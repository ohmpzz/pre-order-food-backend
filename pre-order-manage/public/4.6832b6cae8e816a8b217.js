(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{PBkq:function(t,n,e){"use strict";e.r(n);var l,o=e("CcnG");!function(t){t.addMember="[Communities] Add Member",t.addMemberFail="[Communities] Add Member Fail",t.addMemberSuccess="[Communities] Add Member Success",t.LoadGroups="[Communities] Load Groups",t.LoadGroupsFail="[Communities] Load Groups Fail",t.LoadGroupsSuccess="[Communities] Load Groups Success",t.CreateGroup="[Communities] Create Group",t.CreateGroupFail="[Communities] Create Group Fail",t.CreateGroupSuccess="[Communities] Create Group Success",t.UpdateGroup="[Communities] Update Group",t.UpdateGroupFail="[Communities] Update Group Fail",t.UpdateGroupSuccess="[Communities] Update Group Success",t.RemoveGroup="[Communities] Remove Group",t.RemoveGroupFail="[Communities] Remove Group Fail",t.RemoveGroupSuccess="[Communities] Remove Group Success",t.RemoveMember="[Communities] Remove Member",t.RemoveMemberFail="[Communities] Remove Member Fail",t.RemoveMemberSuccess="[Communities] Remove Member Success"}(l||(l={}));var i,u=function(){return function(t){this.payload=t,this.type=l.addMember}}(),r=function(){return function(t){this.payload=t,this.type=l.addMemberFail}}(),s=function(){return function(t){this.payload=t,this.type=l.addMemberSuccess}}(),c=function(){return function(){this.type=l.LoadGroups}}(),a=function(){return function(t){this.payload=t,this.type=l.LoadGroupsFail}}(),p=function(){return function(t){this.payload=t,this.type=l.LoadGroupsSuccess}}(),d=function(){return function(t){this.payload=t,this.type=l.CreateGroup}}(),h=function(){return function(t){this.payload=t,this.type=l.CreateGroupFail}}(),f=function(){return function(t){this.payload=t,this.type=l.CreateGroupSuccess}}(),b=function(){return function(t){this.payload=t,this.type=l.UpdateGroup}}(),m=function(){return function(t){this.payload=t,this.type=l.UpdateGroupFail}}(),v=function(){return function(t){this.payload=t,this.type=l.UpdateGroupSuccess}}(),g=function(){return function(t){this.payload=t,this.type=l.RemoveGroup}}(),y=function(){return function(t){this.payload=t,this.type=l.RemoveGroupFail}}(),w=function(){return function(t){this.payload=t,this.type=l.RemoveGroupSuccess}}(),C=function(){return function(t){this.payload=t,this.type=l.RemoveMember}}(),_=function(){return function(t){this.payload=t,this.type=l.RemoveMemberFail}}(),O=function(){return function(t){this.payload=t,this.type=l.RemoveMemberSuccess}}();!function(t){t.UploadCover="[Community] Upload Cover",t.UploadCoverFail="[Community] Upload Cover Fail",t.UploadCoverSuccess="[Community] Upload Cover Success"}(i||(i={}));var j,R=function(){return function(t){this.payload=t,this.type=i.UploadCover}}(),k=function(){return function(t){this.payload=t,this.type=i.UploadCoverFail}}(),I=function(){return function(t){this.payload=t,this.type=i.UploadCoverSuccess}}();!function(t){t.Search="[Product] Search",t.SearchFail="[Product] Search Fail",t.SearchSuccess="[Product] Search Success"}(j||(j={}));var S,x=function(){return function(t){this.payload=t,this.type=j.Search}}(),F=function(){return function(t){this.payload=t,this.type=j.SearchFail}}(),A=function(){return function(t){this.payload=t,this.type=j.SearchSuccess}}();!function(t){t.AddPhoneNumber="[Core] Add Phone Number",t.AddPhoneNumberFail="[Core] Add Phone Number Fail",t.AddPhoneNumberSuccess="[Core] Add Phone Number Success"}(S||(S={}));var E=function(){return function(t){this.payload=t,this.type=S.AddPhoneNumber}}(),P=e("mrSG"),D=e("jYNz"),T=e("F/XL"),G=e("67Y/"),U=e("15JJ"),M=e("9Z1F"),$=e("YZbJ"),N=function(){function t(t,n){var e=this;this.action$=t,this.groupService=n,this.addMember$=this.action$.pipe(Object(D.d)(l.addMember),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.groupService.addMember(t.groupId,t.userId).pipe(Object(G.a)(function(t){return new s(t)}),Object(M.a)(function(t){return Object(T.a)(new r(t))}))})),this.loadGroups$=this.action$.pipe(Object(D.d)(l.LoadGroups),Object(U.a)(function(){return e.groupService.getGroups().pipe(Object(G.a)(function(t){return new p(t)}),Object(M.a)(function(t){return Object(T.a)(new a(t))}))})),this.createGroup$=this.action$.pipe(Object(D.d)(l.CreateGroup),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.groupService.createCommu(t).pipe(Object(G.a)(function(t){return new f(t)}),Object(M.a)(function(t){return Object(T.a)(new h(t))}))})),this.createGroupSuccess$=this.action$.pipe(Object(D.d)(l.CreateGroupSuccess),Object(G.a)(function(t){return t.payload}),Object(G.a)(function(t){return new $.a({path:["/community",t._id]})})),this.updateGroup$=this.action$.pipe(Object(D.d)(l.UpdateGroup),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.groupService.updateCommu(t).pipe(Object(G.a)(function(t){return new v(t)}),Object(M.a)(function(t){return Object(T.a)(new m(t))}))})),this.removeGroup$=this.action$.pipe(Object(D.d)(l.RemoveGroup),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.groupService.removeCommu(t).pipe(Object(G.a)(function(){return new w(t)}),Object(M.a)(function(t){return Object(T.a)(new y(t))}))})),this.removeMember$=this.action$.pipe(Object(D.d)(l.RemoveMember),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return console.log(t),e.groupService.removeMember(t.groupId,t.userId).pipe(Object(G.a)(function(t){return new O(t)}),Object(M.a)(function(t){return Object(T.a)(new _(t))}))})),this.handleGroupSuccess$=this.action$.pipe(Object(D.d)(l.UpdateGroupSuccess,l.RemoveGroupSuccess),Object(G.a)(function(){return new $.a({path:["/community"]})}))}return Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"addMember$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"loadGroups$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"createGroup$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"createGroupSuccess$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"updateGroup$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"removeGroup$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"removeMember$",void 0),Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"handleGroupSuccess$",void 0),t}(),V=function(){function t(t,n){var e=this;this.action$=t,this.findUserService=n,this.searchUser$=this.action$.pipe(Object(D.d)(j.Search),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.findUserService.findUser(t).pipe(Object(G.a)(function(t){return new A(t)}),Object(M.a)(function(t){return Object(T.a)(new F(t))}))}))}return Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"searchUser$",void 0),t}(),L=function(){function t(t,n){var e=this;this.action$=t,this.groupService=n,this.uploadCover$=this.action$.pipe(Object(D.d)(i.UploadCover),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.groupService.uploadCoverCommu(t).pipe(Object(G.a)(function(t){return new I(t)}),Object(M.a)(function(t){return Object(T.a)(new k(t))}))}))}return Object(P.b)([Object(D.b)(),Object(P.d)("design:type",Object)],t.prototype,"uploadCover$",void 0),t}(),B=function(){function t(t,n){var e=this;this.action$=t,this.authService=n,this.addPhoneNumber$=this.action$.pipe(Object(D.d)(S.AddPhoneNumber),Object(G.a)(function(t){return t.payload}),Object(U.a)(function(t){return e.authService.addPhoneNumber(t._id,t.phoneNumber)}))}return Object(P.b)([Object(D.b)({dispatch:!1}),Object(P.d)("design:type",Object)],t.prototype,"addPhoneNumber$",void 0),t}(),K=e("yGQT"),H=function(){return(H=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},W=function(t,n){var e={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&n.indexOf(l)<0&&(e[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(t);o<l.length;o++)n.indexOf(l[o])<0&&(e[l[o]]=t[l[o]])}return e},q={entities:[],loaded:!1,loading:!1};function z(t,n){var e;switch(void 0===t&&(t=q),n.type){case l.LoadGroups:return H({},t,{loading:!0});case l.LoadGroupsSuccess:var o=n.payload.reduce(function(t,n){var e;return H({},t,((e={})[n._id]=n,e))},H({},t.entities));return H({},t,{loaded:!0,loading:!1,entities:o});case l.LoadGroupsFail:return H({},t,{loaded:!1,loading:!1});case l.addMemberSuccess:case l.RemoveMemberSuccess:case l.UpdateGroupSuccess:case l.CreateGroupSuccess:var i=W(n.payload,["__v"]);return o=H({},t.entities,((e={})[i._id]=i,e)),H({},t,{entities:o});case l.RemoveGroupSuccess:var u=(i=n.payload)._id;return o=W(t.entities,["symbol"==typeof u?u:u+""]),H({},t,{entities:o});default:return t}}var Z=function(){return(Z=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},J={entities:[],loaded:!1,loading:!1};function Y(t,n){switch(void 0===t&&(t=J),n.type){case j.Search:return Z({},t,{loading:!0});case j.SearchFail:return Z({},t,{loaded:!1,loading:!1});case j.SearchSuccess:var e=n.payload.reduce(function(t,n){var e;return Z({},t,((e={})[n._id]=n,e))},Z({},t.entities));return Z({},t,{loaded:!0,loading:!1,entities:e})}return t}var Q=function(){return(Q=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},X={entities:{},loaded:!1,loading:!1};function tt(t,n){switch(void 0===t&&(t=X),n.type){case i.UploadCover:return Q({},t,{loading:!0});case i.UploadCoverFail:return Q({},t,{loaded:!1,loading:!1});case i.UploadCoverSuccess:return Q({},t,{entities:{url:n.payload.url},loaded:!0,loading:!1});default:return t}}var nt=Object(K.B)("communities"),et=Object(K.D)(nt,function(t){return t.groups}),lt=Object(K.D)(et,function(t){return t.entities}),ot=Object(K.D)(lt,$.b,function(t,n){return n.state&&t[n.state.params.commuId]}),it=Object(K.D)(ot,function(t){return t.members?Object.keys(t.members).map(function(n){return{id:n,name:t.members[n]}}):[]}),ut=Object(K.D)(lt,function(t){return Object.keys(t).map(function(n){return t[n]})}),rt=Object(K.D)(et,function(t){return t.loaded}),st=(Object(K.D)(et,function(t){return t.loading}),Object(K.D)(nt,function(t){return t.search})),ct=Object(K.D)(st,function(t){return t.entities}),at=Object(K.D)(ct,function(t){return Object.keys(t).map(function(n){return t[n]})}),pt=(Object(K.D)(st,function(t){return t.loaded}),Object(K.D)(st,function(t){return t.loading}),Object(K.D)(nt,function(t){return t.upload})),dt=Object(K.D)(pt,function(t){return t.entities}),ht=(Object(K.D)(pt,function(t){return t.loaded}),Object(K.D)(pt,function(t){return t.loading}),function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.groups$=this.store.select(ut),this.mocks=[{_id:"1",title:"\u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19\u0e08\u0e33\u0e25\u0e2d\u0e07",description:"This is a wider card with supporting text below as a natural lead-in to\n      additional content. This content is a little bit longer."},{_id:"2",title:"\u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19\u0e08\u0e33\u0e25\u0e2d\u0e07",description:"This is a wider card with supporting text below as a natural lead-in to\n      additional content. This content is a little bit longer."},{_id:"3",title:"\u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19\u0e08\u0e33\u0e25\u0e2d\u0e07",description:"This is a wider card with supporting text below as a natural lead-in to\n      additional content. This content is a little bit longer."}]},t.prototype.onEditRoute=function(t){this.store.dispatch(new $.a({path:["community",t._id]}))},t.prototype.onViewRoute=function(t){this.store.dispatch(new $.a({path:["community",t._id]}))},t}()),ft=function(){return(ft=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},bt=function(){function t(t){this.store=t,this.fileUrl$=null}return t.prototype.ngOnInit=function(){this.community$=this.store.select(ot),this.fileUrl$=this.store.select(dt),this.users$=this.store.select(at)},t.prototype.onAddMember=function(t){var n=this;this.community$.subscribe(function(e){if(e){var l={groupId:e._id,userId:t.uid};console.log(l),n.store.dispatch(new u(l)),n.store.dispatch(new E(t))}}).unsubscribe()},t.prototype.onFile=function(t){console.log(t),this.store.dispatch(new R(t))},t.prototype.onCreate=function(t){console.log(t),this.store.dispatch(new d(t))},t.prototype.onUpdate=function(t){console.log(t),this.store.dispatch(new b(t))},t.prototype.onSearch=function(t){this.store.dispatch(new x(t))},t.prototype.onRemove=function(t){window.confirm("Are you sure?")&&(console.log(t),this.store.dispatch(new g(t)))},t.prototype.onRemoveMember=function(t){var n=this;console.log(t),this.community$.subscribe(function(e){e&&n.store.dispatch(new C(ft({},{groupId:e._id,userId:t.uid})))}).unsubscribe()},t}(),mt=e("t9fZ"),vt=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.members$=this.store.select(it),this.users$=this.store.select(at)},t.prototype.onSearch=function(t){this.store.dispatch(new x(t))},t.prototype.onAdd=function(t){var n=this,e=t.email;this.store.select(ot).pipe(Object(mt.a)(1)).subscribe(function(t){n.store.dispatch(new u({id:t._id,email:e}))})},t.prototype.onRemove=function(t){var n=this,e=t.memberId;confirm("Are you sure?")&&this.store.select(ot).pipe(Object(mt.a)(1)).subscribe(function(t){n.store.dispatch(new C({id:t._id,memberId:e}))})},t}(),gt=e("xMyE"),yt=e("VnD/"),wt=function(){return function(){}}(),Ct=function(){function t(t){this.store=t}return t.prototype.canActivate=function(t){var n=this;return this.checkStore().pipe(Object(U.a)(function(){return n.hasGroup(t.params.commuId)}))},t.prototype.hasGroup=function(t){return this.store.select(lt).pipe(Object(G.a)(function(n){return!!n[t]}))},t.prototype.checkStore=function(){var t=this;return this.store.select(rt).pipe(Object(gt.a)(function(n){n||t.store.dispatch(new c)}),Object(yt.a)(function(t){return t}),Object(mt.a)(1))},t.ngInjectableDef=o.V({factory:function(){return new t(o.Z(K.n))},token:t,providedIn:wt}),t}(),_t=function(){function t(t){this.store=t}return t.prototype.canActivate=function(){return this.checkStore().pipe(Object(U.a)(function(){return Object(T.a)(!0)}),Object(M.a)(function(){return Object(T.a)(!1)}))},t.prototype.checkStore=function(){var t=this;return this.store.select(rt).pipe(Object(gt.a)(function(n){n||t.store.dispatch(new c)}),Object(yt.a)(function(t){return t}),Object(mt.a)(1))},t.ngInjectableDef=o.V({factory:function(){return new t(o.Z(K.n))},token:t,providedIn:wt}),t}(),Ot=function(){return function(){}}(),jt=e("pMnS"),Rt=e("Ip0R"),kt=e("gIcY"),It=e("K9Ia"),St=e("6blF"),xt=e("h9Dq"),Ft=new(e("CS9Q").a)(xt.a),At=e("isby");e("nkY7");var Et=e("2Bdj");function Pt(t,n,e,l){return Object(Et.a)(e)&&(l=e,e=void 0),l?Pt(t,n,e).pipe(Object(G.a)(function(t){return Object(At.a)(t)?l.apply(void 0,t):l(t)})):new St.a(function(l){!function t(n,e,l,o,i){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(n)){var r=n;n.addEventListener(e,l,i),u=function(){return r.removeEventListener(e,l,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(n)){var s=n;n.on(e,l),u=function(){return s.off(e,l)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(n)){var c=n;n.addListener(e,l),u=function(){return c.removeListener(e,l)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var a=0,p=n.length;a<p;a++)t(n[a],e,l,o,i)}o.add(u)}(t,n,function(t){l.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},l,e)})}e("+umK"),e("IUTb");var Dt=e("MGBS"),Tt=e("zotm"),Gt=e("26FU");function Ut(t){return function(n){return n.lift(new Mt(t))}}var Mt=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,n){var e=new $t(t),l=Object(Tt.a)(e,this.notifier);return l&&!e.seenValue?(e.add(l),n.subscribe(e)):e},t}(),$t=function(t){function n(n){var e=t.call(this,n)||this;return e.seenValue=!1,e}return P.c(n,t),n.prototype.notifyNext=function(t,n,e,l,o){this.seenValue=!0,this.complete()},n.prototype.notifyComplete=function(){},n}(Dt.a),Nt=e("/PH2");function Vt(t){return null!=t?""+t:""}function Lt(t){return null!=t}var Bt=function(){var t={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return t[t.Tab]="Tab",t[t.Enter]="Enter",t[t.Escape]="Escape",t[t.Space]="Space",t[t.PageUp]="PageUp",t[t.PageDown]="PageDown",t[t.End]="End",t[t.Home]="Home",t[t.ArrowLeft]="ArrowLeft",t[t.ArrowUp]="ArrowUp",t[t.ArrowRight]="ArrowRight",t[t.ArrowDown]="ArrowDown",t}(),Kt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ht(t){var n=t.querySelectorAll(Kt);return[n[0],n[n.length-1]]}var Wt=function(t,n,e){void 0===e&&(e=!1);var l=Pt(t,"focusin").pipe(Ut(n),Object(G.a)(function(t){return t.target}));Pt(t,"keydown").pipe(Ut(n),Object(yt.a)(function(t){return t.which===Bt.Tab}),Object(Nt.a)(l)).subscribe(function(n){var e=Object(P.f)(n,2),l=e[0],o=e[1],i=Object(P.f)(Ht(t),2),u=i[0],r=i[1];o!==u&&o!==t||!l.shiftKey||(r.focus(),l.preventDefault()),o!==r||l.shiftKey||(u.focus(),l.preventDefault())}),e&&Pt(t,"click").pipe(Ut(n),Object(Nt.a)(l),Object(G.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})},qt=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,n){return this.getAllStyles(t)[n]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var n=t.offsetParent||document.documentElement;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement},t.prototype.position=function(t,n){var e;void 0===n&&(n=!0);var l={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e=t.getBoundingClientRect();else{var o=this.offsetParent(t);e=this.offset(t,!1),o!==document.documentElement&&(l=this.offset(o,!1)),l.top+=o.clientTop,l.left+=o.clientLeft}return e.top-=l.top,e.bottom-=l.top,e.left-=l.left,e.right-=l.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e},t.prototype.offset=function(t,n){void 0===n&&(n=!0);var e=t.getBoundingClientRect(),l=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft,i={height:e.height||t.offsetHeight,width:e.width||t.offsetWidth,top:e.top+l,bottom:e.bottom+l,left:e.left+o,right:e.right+o};return n&&(i.height=Math.round(i.height),i.width=Math.round(i.width),i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.positionElements=function(t,n,e,l){var o=l?this.offset(t,!1):this.position(t,!1),i=this.getAllStyles(n),u=n.getBoundingClientRect(),r=e.split("-")[0]||"top",s=e.split("-")[1]||"center",c={height:u.height||n.offsetHeight,width:u.width||n.offsetWidth,top:0,bottom:u.height||n.offsetHeight,left:0,right:u.width||n.offsetWidth};switch(r){case"top":c.top=o.top-(n.offsetHeight+parseFloat(i.marginBottom));break;case"bottom":c.top=o.top+o.height;break;case"left":c.left=o.left-(n.offsetWidth+parseFloat(i.marginRight));break;case"right":c.left=o.left+o.width}switch(s){case"top":c.top=o.top;break;case"bottom":c.top=o.top+o.height-n.offsetHeight;break;case"left":c.left=o.left;break;case"right":c.left=o.left+o.width-n.offsetWidth;break;case"center":"top"===r||"bottom"===r?c.left=o.left+o.width/2-n.offsetWidth/2:c.top=o.top+o.height/2-n.offsetHeight/2}return c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right),c},t.prototype.getAvailablePlacements=function(t,n){var e=[],l=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=document.documentElement,u=window.innerHeight||i.clientHeight,r=window.innerWidth||i.clientWidth,s=l.left+l.width/2,c=l.top+l.height/2;return o.width<l.left&&(c>o.height/2&&u-c>o.height/2&&e.splice(e.length,1,"left"),this.setSecondaryPlacementForLeftRight(l,o,"left",e)),o.height<l.top&&(s>o.width/2&&r-s>o.width/2&&e.splice(e.length,1,"top"),this.setSecondaryPlacementForTopBottom(l,o,"top",e)),r-l.right>o.width&&(c>o.height/2&&u-c>o.height/2&&e.splice(e.length,1,"right"),this.setSecondaryPlacementForLeftRight(l,o,"right",e)),u-l.bottom>o.height&&(s>o.width/2&&r-s>o.width/2&&e.splice(e.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(l,o,"bottom",e)),e},t.prototype.setSecondaryPlacementForLeftRight=function(t,n,e,l){var o=document.documentElement;n.height<=t.bottom&&l.splice(l.length,1,e+"-bottom"),(window.innerHeight||o.clientHeight)-t.top>=n.height&&l.splice(l.length,1,e+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,n,e,l){var o=document.documentElement;(window.innerWidth||o.clientWidth)-t.left>=n.width&&l.splice(l.length,1,e+"-left"),n.width<=t.right&&l.splice(l.length,1,e+"-right")},t}()),zt=function(){function t(){this.backdrop=!0,this.keyboard=!0}return t.ngInjectableDef=Object(o.V)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Zt=function(){return function(t,n,e){this.nodes=t,this.viewRef=n,this.componentRef=e}}(),Jt=function(){function t(t,n,e,l,o){this._type=t,this._injector=n,this._viewContainerRef=e,this._renderer=l,this._componentFactoryResolver=o}return t.prototype.open=function(t,n){return this._windowRef||(this._contentRef=this._getContentRef(t,n),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef},t.prototype.close=function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null))},t.prototype._getContentRef=function(t,n){if(t){if(t instanceof o.O){var e=this._viewContainerRef.createEmbeddedView(t,n);return new Zt([e.rootNodes],e)}return new Zt([[this._renderer.createText(""+t)]])}return new Zt([])},t}(),Yt=function(){},Qt=function(){function t(t){this._document=t}return t.prototype.compensate=function(){return this._isPresent()?this._adjustBody(this._getWidth()):Yt},t.prototype._adjustBody=function(t){var n=this._document.body,e=n.style.paddingRight,l=parseFloat(window.getComputedStyle(n)["padding-right"]);return n.style["padding-right"]=l+t+"px",function(){return n.style["padding-right"]=e}},t.prototype._isPresent=function(){var t=this._document.body.getBoundingClientRect();return t.left+t.right<window.innerWidth},t.prototype._getWidth=function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var n=this._document.body;n.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return n.removeChild(t),e},t.ngInjectableDef=Object(o.V)({factory:function(){return new t(Object(o.Z)(Rt.d))},token:t,providedIn:"root"}),t}(),Xt=function(){return function(){}}(),tn=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),nn=function(){function t(t,n,e,l){var o=this;this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=e,this._beforeDismiss=l,t.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,n){o._resolve=t,o._reject=n}),this.result.then(null,function(){})}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype._dismiss=function(t){this._reject(t),this._removeModalElements()},t.prototype.dismiss=function(t){var n=this;if(this._windowCmptRef)if(this._beforeDismiss){var e=this._beforeDismiss();e&&e.then?e.then(function(e){!1!==e&&n._dismiss(t)},function(){}):!1!==e&&this._dismiss(t)}else this._dismiss(t)},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var n=this._backdropCmptRef.location.nativeElement;n.parentNode.removeChild(n),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}(),en=function(){var t={BACKDROP_CLICK:0,ESC:1};return t[t.BACKDROP_CLICK]="BACKDROP_CLICK",t[t.ESC]="ESC",t}(),ln=function(){function t(t,n){this._document=t,this._elRef=n,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.m}return t.prototype.backdropClick=function(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(en.BACKDROP_CLICK)},t.prototype.escKey=function(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(en.ESC)},t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=this._document.activeElement},t.prototype.ngAfterViewInit=function(){if(!this._elRef.nativeElement.contains(document.activeElement)){var t=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),n=Ht(this._elRef.nativeElement)[0];(t||n||this._elRef.nativeElement).focus()}},t.prototype.ngOnDestroy=function(){var t=this._document.body,n=this._elWithFocus;(n&&n.focus&&t.contains(n)?n:t).focus(),this._elWithFocus=null},t}(),on=function(){function t(t,n,e,l,o){var i=this;this._applicationRef=t,this._injector=n,this._document=e,this._scrollBar=l,this._rendererFactory=o,this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","size","windowClass"],this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowCmpts=[],this._activeWindowCmptHasChanged=new It.a,this._activeWindowCmptHasChanged.subscribe(function(){i._windowCmpts.length&&Wt(i._windowCmpts[i._windowCmpts.length-1].location.nativeElement,i._activeWindowCmptHasChanged)})}return t.prototype.open=function(t,n,e,l){var o=this,i=Lt(l.container)?this._document.querySelector(l.container):this._document.body,u=this._rendererFactory.createRenderer(null,null),r=this._scrollBar.compensate(),s=function(){o._modalRefs.length||u.removeClass(o._document.body,"modal-open")};if(!i)throw new Error('The specified modal container "'+(l.container||"body")+'" was not found in the DOM.');var c=new tn,a=this._getContentRef(t,l.injector||n,e,c),p=!1!==l.backdrop?this._attachBackdrop(t,i):null,d=this._attachWindowComponent(t,i,a),h=new nn(d,a,p,l.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(r,r),h.result.then(s,s),c.close=function(t){h.close(t)},c.dismiss=function(t){h.dismiss(t)},this._applyWindowOptions(d.instance,l),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),p&&p.instance&&this._applyBackdropOptions(p.instance,l),h},t.prototype.dismissAll=function(t){this._modalRefs.forEach(function(n){return n.dismiss(t)})},t.prototype.hasOpenModals=function(){return this._modalRefs.length>0},t.prototype._attachBackdrop=function(t,n){var e=t.resolveComponentFactory(Xt).create(this._injector);return this._applicationRef.attachView(e.hostView),n.appendChild(e.location.nativeElement),e},t.prototype._attachWindowComponent=function(t,n,e){var l=t.resolveComponentFactory(ln).create(this._injector,e.nodes);return this._applicationRef.attachView(l.hostView),n.appendChild(l.location.nativeElement),l},t.prototype._applyWindowOptions=function(t,n){this._windowAttributes.forEach(function(e){Lt(n[e])&&(t[e]=n[e])})},t.prototype._applyBackdropOptions=function(t,n){this._backdropAttributes.forEach(function(e){Lt(n[e])&&(t[e]=n[e])})},t.prototype._getContentRef=function(t,n,e,l){return e?e instanceof o.O?this._createFromTemplateRef(e,l):"string"==typeof e?this._createFromString(e):this._createFromComponent(t,n,e,l):new Zt([])},t.prototype._createFromTemplateRef=function(t,n){var e=t.createEmbeddedView({$implicit:n,close:function(t){n.close(t)},dismiss:function(t){n.dismiss(t)}});return this._applicationRef.attachView(e),new Zt([e.rootNodes],e)},t.prototype._createFromString=function(t){var n=this._document.createTextNode(""+t);return new Zt([[n]])},t.prototype._createFromComponent=function(t,n,e,l){var i=t.resolveComponentFactory(e),u=o.s.create({providers:[{provide:tn,useValue:l}],parent:n}),r=i.create(u);return this._applicationRef.attachView(r.hostView),new Zt([[r.location.nativeElement]],r.hostView,r)},t.prototype._registerModalRef=function(t){var n=this,e=function(){var e=n._modalRefs.indexOf(t);e>-1&&n._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)},t.prototype._registerWindowCmpt=function(t){var n=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var e=n._windowCmpts.indexOf(t);e>-1&&(n._windowCmpts.splice(e,1),n._activeWindowCmptHasChanged.next())})},t.ngInjectableDef=Object(o.V)({factory:function(){return new t(Object(o.Z)(o.g),Object(o.Z)(o.o),Object(o.Z)(Rt.d),Object(o.Z)(Qt),Object(o.Z)(o.H))},token:t,providedIn:"root"}),t}(),un=function(){function t(t,n,e,l){this._moduleCFR=t,this._injector=n,this._modalStack=e,this._config=l}return t.prototype.open=function(t,n){void 0===n&&(n={});var e=Object.assign({},this._config,n);return this._modalStack.open(this._moduleCFR,this._injector,t,e)},t.prototype.dismissAll=function(t){this._modalStack.dismissAll(t)},t.prototype.hasOpenModals=function(){return this._modalStack.hasOpenModals()},t.ngInjectableDef=Object(o.V)({factory:function(){return new t(Object(o.Z)(o.j),Object(o.Z)(o.o),Object(o.Z)(on),Object(o.Z)(zt))},token:t,providedIn:"root"}),t}(),rn=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}(),sn=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var n,e=Vt(this.result),l=e.toLowerCase(),o=Vt(this.term).toLowerCase(),i=0;this.parts=o.length>0?l.split(new RegExp("("+(n=o,n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))+")")).map(function(t){var n=e.substr(i,t.length);return i+=t.length,n}):[e]},t}(),cn=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Vt,this.selectEvent=new o.m,this.activeChangeEvent=new o.m}return t.prototype.hasActive=function(){return this.activeIdx>-1&&this.activeIdx<this.results.length},t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.resetActive=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.resetActive()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}(),an=new o.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});function pn(t,n){void 0===n&&(n=!1);var e=t.body.querySelector("#ngb-live");return null==e&&n&&((e=t.createElement("div")).setAttribute("id","ngb-live"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.classList.add("sr-only"),t.body.appendChild(e)),e}var dn=function(){function t(t,n){this._document=t,this._delay=n}return t.prototype.ngOnDestroy=function(){var t=pn(this._document);t&&t.parentElement.removeChild(t)},t.prototype.say=function(t){var n=pn(this._document,!0),e=this._delay;n.textContent="";var l=function(){return n.textContent=t};null===e?l():setTimeout(l,e)},t.ngInjectableDef=Object(o.V)({factory:function(){return new t(Object(o.Z)(Rt.d),Object(o.Z)(an))},token:t,providedIn:"root"}),t}(),hn=function(){function t(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement="bottom-left"}return t.ngInjectableDef=Object(o.V)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),fn=0,bn=function(){function t(t,n,e,l,i,u,r,s){var c=this;this._elementRef=t,this._viewContainerRef=n,this._renderer=e,this._injector=l,this._live=s,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new o.m,this.popupId="ngb-typeahead-"+fn++,this._onTouched=function(){},this._onChange=function(t){},this.container=u.container,this.editable=u.editable,this.focusFirst=u.focusFirst,this.showHint=u.showHint,this.placement=u.placement,this._valueChanges=Pt(t.nativeElement,"input").pipe(Object(G.a)(function(t){return t.target.value})),this._resubscribeTypeahead=new Gt.a(null),this._popupService=new Jt(cn,l,n,e,i),this._zoneSubscription=r.onStable.subscribe(function(){c.isPopupOpen()&&function(t,n,e,l){var o,i,u=Array.isArray(e)?e:[e],r=u.findIndex(function(t){return"auto"===t});r>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(t){null==u.find(function(n){return-1!==n.search("^"+t)})&&u.splice(r++,1,t)});var s=0,c=0,a=qt.getAvailablePlacements(t,n),p=function(e,o){if(null!=a.find(function(t){return t===e})||u.length===o+1){e;var i=qt.positionElements(t,n,e,l);return s=i.top,c=i.left,"break"}};try{for(var d=Object(P.h)(u.map(function(t,n){return{item:t,index:n}})),h=d.next();!h.done;h=d.next()){var f=h.value;if("break"===p(f.item,f.index))break}}catch(b){o={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}n.style.top=s+"px",n.style.left=c+"px"}(c._elementRef.nativeElement,c._windowRef.location.nativeElement,c.placement,"body"===c.container)})}return t.prototype.ngOnInit=function(){var t=this,n=this._valueChanges.pipe(Object(gt.a)(function(n){t._inputValueBackup=n,t.editable&&t._onChange(n)})).pipe(this.ngbTypeahead).pipe(Object(gt.a)(function(){t.editable||t._onChange(void 0)})),e=this._resubscribeTypeahead.pipe(Object(U.a)(function(){return n}));this._subscription=this._subscribeToUserInput(e)},t.prototype.ngOnDestroy=function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.writeValue=function(t){this._writeInputValue(this._formatItemForInput(t))},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.onDocumentClick=function(t){t.target!==this._elementRef.nativeElement&&this.dismissPopup()},t.prototype.dismissPopup=function(){this.isPopupOpen()&&(this._closePopup(),this._writeInputValue(this._inputValueBackup))},t.prototype.isPopupOpen=function(){return null!=this._windowRef},t.prototype.handleBlur=function(){this._resubscribeTypeahead.next(null),this._onTouched()},t.prototype.handleKeyDown=function(t){if(this.isPopupOpen()){var n=t.which;if(Bt[Vt(n)])switch(n){case Bt.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Bt.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Bt.Enter:case Bt.Tab:var e=this._windowRef.instance.getActive();Lt(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup();break;case Bt.Escape:t.preventDefault(),this._resubscribeTypeahead.next(null),this.dismissPopup()}}},t.prototype._openPopup=function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(n){return t._selectResultClosePopup(n)}),this._windowRef.instance.activeChangeEvent.subscribe(function(n){return t.activeDescendant=n}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement))},t.prototype._closePopup=function(){this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0},t.prototype._selectResult=function(t){var n=!1;this.selectItem.emit({item:t,preventDefault:function(){n=!0}}),this._resubscribeTypeahead.next(null),n||(this.writeValue(t),this._onChange(t))},t.prototype._selectResultClosePopup=function(t){this._selectResult(t),this._closePopup(),this._elementRef.nativeElement.focus()},t.prototype._showHint=function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var t=this._inputValueBackup.toLowerCase(),n=this._formatItemForInput(this._windowRef.instance.getActive());t===n.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+n.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,n.length])):this.writeValue(this._windowRef.instance.getActive())}},t.prototype._formatItemForInput=function(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):Vt(t)},t.prototype._writeInputValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",Vt(t))},t.prototype._subscribeToUserInput=function(t){var n=this;return t.subscribe(function(t){t&&0!==t.length?(n._openPopup(),n._windowRef.instance.focusFirst=n.focusFirst,n._windowRef.instance.results=t,n._windowRef.instance.term=n._elementRef.nativeElement.value,n.resultFormatter&&(n._windowRef.instance.formatter=n.resultFormatter),n.resultTemplate&&(n._windowRef.instance.resultTemplate=n.resultTemplate),n._windowRef.instance.resetActive(),n._windowRef.changeDetectorRef.detectChanges(),n._showHint()):n._closePopup();var e=t?t.length:0;n._live.say(0===e?"No results available":e+" result"+(1===e?"":"s")+" available")})},t.prototype._unsubscribeFromUserInput=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null},t}(),mn=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t}(),vn=o.qb({encapsulation:2,styles:[],data:{}});function gn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"ngb-highlight",[],null,null,null,Sn,jn)),o.rb(1,573440,null,0,sn,[],{result:[0,"result"],term:[1,"term"]},null)],function(t,n){var e=n.context.formatter(n.context.result);t(n,1,0,e,n.context.term)},null)}function yn(t){return o.Kb(0,[(t()(),o.jb(0,null,null,0))],null,null)}function wn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,n,e){var l=!0,o=t.component;return"mouseenter"===n&&(l=!1!==o.markActive(t.context.index)&&l),"click"===n&&(l=!1!==o.select(t.context.$implicit)&&l),l},null,null)),(t()(),o.jb(16777216,null,null,2,null,yn)),o.rb(2,540672,null,0,Rt.n,[o.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),o.Eb(3,{result:0,term:1,formatter:2})],function(t,n){var e=n.component,l=t(n,3,0,n.context.$implicit,e.term,e.formatter);t(n,2,0,l,e.resultTemplate||o.Cb(n.parent,0))},function(t,n){var e=n.component;t(n,0,0,e.id+"-"+n.context.index,n.context.index===e.activeIdx)})}function Cn(t){return o.Kb(0,[(t()(),o.jb(0,[["rt",2]],null,0,null,gn)),(t()(),o.jb(16777216,null,null,1,null,wn)),o.rb(2,278528,null,0,Rt.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.results)},null)}function _n(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],null,null,Cn,vn)),o.rb(1,114688,null,0,cn,[],null,null)],function(t,n){t(n,1,0)},function(t,n){t(n,0,0,o.Cb(n,1).id)})}var On=o.ob("ngb-typeahead-window",cn,_n,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),jn=o.qb({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Rn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),o.Ib(1,null,["",""]))],null,function(t,n){t(n,0,0,n.component.highlightClass),t(n,1,0,n.parent.context.$implicit)})}function kn(t){return o.Kb(0,[(t()(),o.Ib(0,null,["",""]))],null,function(t,n){t(n,0,0,n.parent.context.$implicit)})}function In(t){return o.Kb(0,[(t()(),o.jb(16777216,null,null,1,null,Rn)),o.rb(1,16384,null,0,Rt.k,[o.R,o.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),o.jb(0,[["even",2]],null,0,null,kn))],function(t,n){t(n,1,0,n.context.odd,o.Cb(n,2))},null)}function Sn(t){return o.Kb(2,[(t()(),o.jb(16777216,null,null,1,null,In)),o.rb(1,278528,null,0,Rt.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,1,0,n.component.parts)},null)}var xn=o.qb({encapsulation:2,styles:[],data:{}});function Fn(t){return o.Kb(0,[],null,null)}function An(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,Fn,xn)),o.rb(1,49152,null,0,Xt,[],null,null)],null,function(t,n){t(n,0,0,"modal-backdrop fade show"+(o.Cb(n,1).backdropClass?" "+o.Cb(n,1).backdropClass:""))})}var En=o.ob("ngb-modal-backdrop",Xt,An,{backdropClass:"backdropClass"},{},[]),Pn=o.qb({encapsulation:2,styles:[],data:{}});function Dn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),o.sb(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),o.Bb(null,0)],null,function(t,n){var e=n.component;t(n,0,0,"modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":""))})}function Tn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(t,n,e){var l=!0;return"keyup.esc"===n&&(l=!1!==o.Cb(t,1).escKey(e)&&l),"click"===n&&(l=!1!==o.Cb(t,1).backdropClick(e)&&l),l},Dn,Pn)),o.rb(1,4440064,null,0,ln,[Rt.d,o.k],null,null)],function(t,n){t(n,1,0)},function(t,n){t(n,0,0,"modal fade show d-block"+(o.Cb(n,1).windowClass?" "+o.Cb(n,1).windowClass:""),o.Cb(n,1).ariaLabelledBy)})}var Gn=o.ob("ngb-modal-window",ln,Tn,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),Un=function(){function t(t){this.sanitization=t,this.editRoute=new o.m,this.viewRoute=new o.m}return t.prototype.ngOnInit=function(){},t.prototype.trustUrl=function(t){return t||(t="https://images.unsplash.com/photo-1529528070131-eda9f3e90919?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"),this.sanitization.bypassSecurityTrustStyle("url('"+t+"')")},t.prototype.editGroup=function(t){this.editRoute.emit({_id:t})},t.prototype.viewGroup=function(t){this.viewRoute.emit({_id:t})},t}(),Mn=e("ZYjt"),$n=o.qb({encapsulation:0,styles:[[""]],data:{}});function Nn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,10,"div",[["class","card mb-4 shadow-sm"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,0,"div",[["class","card-img-top card_image"]],[[4,"background-image",null]],null,null,null,null)),(t()(),o.sb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),o.sb(3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),o.Ib(4,null,["",""])),(t()(),o.sb(5,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),o.Ib(6,null,["",""])),(t()(),o.sb(7,0,null,null,3,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(t()(),o.sb(8,0,null,null,2,"div",[["class","btn-group"]],null,null,null,null,null)),(t()(),o.sb(9,0,null,null,1,"button",[["class","btn btn-sm btn-outline-secondary"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0,o=t.component;return"click"===n&&(l=!1!==o.editGroup(o.group._id)&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Edit "]))],null,function(t,n){var e=n.component;t(n,1,0,e.trustUrl(e.group.pictureUrl)),t(n,4,0,e.group.title),t(n,6,0,e.group.description)})}var Vn=e("ZYCi"),Ln=o.qb({encapsulation:0,styles:[[""]],data:{}});function Bn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,2,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,1,"commu-item",[],null,[[null,"editRoute"],[null,"viewRoute"]],function(t,n,e){var l=!0,o=t.component;return"editRoute"===n&&(l=!1!==o.onEditRoute(e)&&l),"viewRoute"===n&&(l=!1!==o.onViewRoute(e)&&l),l},Nn,$n)),o.rb(2,114688,null,0,Un,[Mn.b],{group:[0,"group"]},{editRoute:"editRoute",viewRoute:"viewRoute"})],function(t,n){t(n,2,0,n.context.$implicit)},null)}function Kn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),o.sb(2,0,null,null,3,"div",[["class","col"],["style","text-align: end"]],null,null,null,null,null)),(t()(),o.sb(3,0,null,null,2,"button",[["class","btn btn-primary"],["routerLink","./new"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==o.Cb(t,4).onClick()&&l),l},null,null)),o.rb(4,16384,null,0,Vn.p,[Vn.o,Vn.a,[8,null],o.G,o.k],{routerLink:[0,"routerLink"]},null),(t()(),o.Ib(-1,null,[" Create Community "])),(t()(),o.sb(6,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),o.sb(7,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),o.jb(16777216,null,null,2,null,Bn)),o.rb(9,278528,null,0,Rt.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null),o.Db(131072,Rt.b,[o.h])],function(t,n){var e=n.component;t(n,4,0,"./new"),t(n,9,0,o.Jb(n,9,0,o.Cb(n,10).transform(e.groups$)))},null)}function Hn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"app-communities",[],null,null,null,Kn,Ln)),o.rb(1,114688,null,0,ht,[K.n],null,null)],function(t,n){t(n,1,0)},null)}var Wn=o.ob("app-communities",ht,Hn,{},{},[]),qn=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),zn=o.qb({encapsulation:0,styles:[[".cover_preview[_ngcontent-%COMP%]{height:280px;width:auto;border-radius:10px;margin:15px}"]],data:{}});function Zn(t){return o.Kb(2,[(t()(),o.sb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,0,"img",[["alt",""],["class","cover_preview"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,1,0,n.component.coverUrl)})}var Jn=function(){return(Jn=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},Yn=function(){function t(t){this.fb=t,this.exists=!1,this.preview_cover="",this.create=new o.m,this.file=new o.m,this.update=new o.m,this.remove=new o.m,this.form=this.fb.group({title:["",[kt.o.required,kt.o.minLength(5),kt.o.maxLength(25)]],description:["",kt.o.maxLength(100)]})}return t.prototype.ngOnInit=function(){this.commu&&this.commu._id&&(this.exists=!0,this.preview_cover=this.commu.pictureUrl,this.form.patchValue(this.commu))},t.prototype.detectUpload=function(t){var n=t.target.files[0];if(!/^(image\/(jpg|jpeg|png))$/g.test(n.type))return alert("image type not match");this.previewCover(n),this.file.emit(n)},t.prototype.previewCover=function(t){var n=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(){n.preview_cover=e.result}},t.prototype.createCommunity=function(t){return this.fileUrl&&this.fileUrl.url?t.valid?this.create.emit(Jn({},t.value,{pictureUrl:this.fileUrl.url})):alert("\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e2b\u0e49\u0e04\u0e23\u0e1a"):alert("\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e39\u0e1b")},t.prototype.updateCommunity=function(t){return t.touched&&t.valid?this.update.emit(Jn({},this.commu,t.value)):alert("\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e2b\u0e49\u0e04\u0e23\u0e1a")},t.prototype.removeCommunity=function(t){this.remove.emit(Jn({},this.commu,t.value))},t}(),Qn=o.qb({encapsulation:0,styles:[[""]],data:{}});function Xn(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0,o=t.component;return"click"===n&&(l=!1!==o.createCommunity(o.form)&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Create Community "]))],null,null)}function te(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"button",[["class","btn btn-secondary"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0,o=t.component;return"click"===n&&(l=!1!==o.updateCommunity(o.form)&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Save changes "]))],null,null)}function ne(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0,o=t.component;return"click"===n&&(l=!1!==o.removeCommunity(o.form)&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Delete Community "]))],null,null)}function ee(t){return o.Kb(2,[(t()(),o.sb(0,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==o.Cb(t,2).onSubmit(e)&&l),"reset"===n&&(l=!1!==o.Cb(t,2).onReset()&&l),l},null,null)),o.rb(1,16384,null,0,kt.q,[],null,null),o.rb(2,540672,null,0,kt.f,[[8,null],[8,null]],{form:[0,"form"]},null),o.Fb(2048,null,kt.b,null,[kt.f]),o.rb(4,16384,null,0,kt.l,[[4,kt.b]],null,null),(t()(),o.sb(5,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o.sb(6,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Community Name"])),(t()(),o.sb(8,0,null,null,5,"input",[["class","form-control"],["formControlName","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==o.Cb(t,9)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==o.Cb(t,9).onTouched()&&l),"compositionstart"===n&&(l=!1!==o.Cb(t,9)._compositionStart()&&l),"compositionend"===n&&(l=!1!==o.Cb(t,9)._compositionEnd(e.target.value)&&l),l},null,null)),o.rb(9,16384,null,0,kt.c,[o.G,o.k,[2,kt.a]],null,null),o.Fb(1024,null,kt.i,function(t){return[t]},[kt.c]),o.rb(11,671744,null,0,kt.e,[[3,kt.b],[8,null],[8,null],[6,kt.i],[2,kt.s]],{name:[0,"name"]},null),o.Fb(2048,null,kt.j,null,[kt.e]),o.rb(13,16384,null,0,kt.k,[[4,kt.j]],null,null),(t()(),o.sb(14,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o.sb(15,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Description"])),(t()(),o.sb(17,0,null,null,5,"textarea",[["class","form-control"],["formControlName","description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==o.Cb(t,18)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==o.Cb(t,18).onTouched()&&l),"compositionstart"===n&&(l=!1!==o.Cb(t,18)._compositionStart()&&l),"compositionend"===n&&(l=!1!==o.Cb(t,18)._compositionEnd(e.target.value)&&l),l},null,null)),o.rb(18,16384,null,0,kt.c,[o.G,o.k,[2,kt.a]],null,null),o.Fb(1024,null,kt.i,function(t){return[t]},[kt.c]),o.rb(20,671744,null,0,kt.e,[[3,kt.b],[8,null],[8,null],[6,kt.i],[2,kt.s]],{name:[0,"name"]},null),o.Fb(2048,null,kt.j,null,[kt.e]),o.rb(22,16384,null,0,kt.k,[[4,kt.j]],null,null),(t()(),o.sb(23,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o.sb(24,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Community Cover"])),(t()(),o.sb(26,0,null,null,0,"input",[["accept","image/png, image/jpeg, image/jpg"],["class","form-control-file"],["type","file"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.detectUpload(e)&&l),l},null,null)),(t()(),o.sb(27,0,null,null,1,"commu-cover-preview",[],null,null,null,Zn,zn)),o.rb(28,114688,null,0,qn,[],{coverUrl:[0,"coverUrl"]},null),(t()(),o.jb(16777216,null,null,1,null,Xn)),o.rb(30,16384,null,0,Rt.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(t()(),o.jb(16777216,null,null,1,null,te)),o.rb(32,16384,null,0,Rt.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(t()(),o.jb(16777216,null,null,1,null,ne)),o.rb(34,16384,null,0,Rt.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.form),t(n,11,0,"title"),t(n,20,0,"description"),t(n,28,0,e.preview_cover),t(n,30,0,!e.exists),t(n,32,0,e.exists),t(n,34,0,e.exists)},function(t,n){t(n,0,0,o.Cb(n,4).ngClassUntouched,o.Cb(n,4).ngClassTouched,o.Cb(n,4).ngClassPristine,o.Cb(n,4).ngClassDirty,o.Cb(n,4).ngClassValid,o.Cb(n,4).ngClassInvalid,o.Cb(n,4).ngClassPending),t(n,8,0,o.Cb(n,13).ngClassUntouched,o.Cb(n,13).ngClassTouched,o.Cb(n,13).ngClassPristine,o.Cb(n,13).ngClassDirty,o.Cb(n,13).ngClassValid,o.Cb(n,13).ngClassInvalid,o.Cb(n,13).ngClassPending),t(n,17,0,o.Cb(n,22).ngClassUntouched,o.Cb(n,22).ngClassTouched,o.Cb(n,22).ngClassPristine,o.Cb(n,22).ngClassDirty,o.Cb(n,22).ngClassValid,o.Cb(n,22).ngClassInvalid,o.Cb(n,22).ngClassPending)})}var le=e("FFOo"),oe=function(){function t(t,n){this.dueTime=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new ie(t,this.dueTime,this.scheduler))},t}(),ie=function(t){function n(n,e,l){var o=t.call(this,n)||this;return o.dueTime=e,o.scheduler=l,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return P.c(n,t),n.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ue,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},n.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},n}(le.a);function ue(t){t.debouncedNext()}var re=e("ad02"),se=function(){return(se=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},ce=function(){function t(t,n){var e=this;this.fb=t,this.modalService=n,this.create=new o.m,this.search=new o.m,this.form=this.fb.group({search:"",phoneNumber:["",kt.o.required]}),this.searchTerm=function(t){return t.pipe((void 0===n&&(n=Ft),function(t){return t.lift(new oe(200,n))}),Object(re.a)(),Object(gt.a)(function(t){e.search.emit(t)}),Object(U.a)(function(){return e.users$.pipe(Object(G.a)(function(t){return t}))}));var n},this.formatter=function(t){return t.name}}return t.prototype.ngOnInit=function(){var t=this;this.users$.subscribe(function(n){t.users=n})},t.prototype.open=function(t){var n=this;this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(function(){var t=n.users.find(function(t){return t==n.form.get("search").value});return t?n.create.emit(se({},t,{phoneNumber:n.form.get("phoneNumber").value})):alert("User not  found")})},t}(),ae=o.qb({encapsulation:0,styles:[[""]],data:{}});function pe(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,0,"img",[["class","mr-1"],["style","width: 16px"]],[[8,"src",4]],null,null,null,null)),(t()(),o.sb(1,0,null,null,1,"ngb-highlight",[],null,null,null,Sn,jn)),o.rb(2,573440,null,0,sn,[],{result:[0,"result"],term:[1,"term"]},null)],function(t,n){t(n,2,0,n.context.result.name,n.context.term)},function(t,n){t(n,0,0,n.context.result.picture)})}function de(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Add Member"])),(t()(),o.sb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.context.$implicit.dismiss("Cross click")&&l),l},null,null)),(t()(),o.sb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),o.Ib(-1,null,["\xd7"])),(t()(),o.sb(6,0,null,null,24,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),o.sb(7,0,null,null,23,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==o.Cb(t,9).onSubmit(e)&&l),"reset"===n&&(l=!1!==o.Cb(t,9).onReset()&&l),l},null,null)),o.rb(8,16384,null,0,kt.q,[],null,null),o.rb(9,540672,null,0,kt.f,[[8,null],[8,null]],{form:[0,"form"]},null),o.Fb(2048,null,kt.b,null,[kt.f]),o.rb(11,16384,null,0,kt.l,[[4,kt.b]],null,null),(t()(),o.sb(12,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o.sb(13,0,null,null,1,"label",[["for","search"]],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Search"])),(t()(),o.sb(15,16777216,null,null,6,"input",[["aria-multiline","false"],["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["formControlName","search"],["placeholder","Name Or Email User"],["role","combobox"],["type","text"]],[[2,"open",null],[8,"autocomplete",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-owns",0],[1,"aria-expanded",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],["document","click"],[null,"keydown"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==o.Cb(t,16)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==o.Cb(t,16).onTouched()&&l),"compositionstart"===n&&(l=!1!==o.Cb(t,16)._compositionStart()&&l),"compositionend"===n&&(l=!1!==o.Cb(t,16)._compositionEnd(e.target.value)&&l),"blur"===n&&(l=!1!==o.Cb(t,17).handleBlur()&&l),"document:click"===n&&(l=!1!==o.Cb(t,17).onDocumentClick(e)&&l),"keydown"===n&&(l=!1!==o.Cb(t,17).handleKeyDown(e)&&l),l},null,null)),o.rb(16,16384,null,0,kt.c,[o.G,o.k,[2,kt.a]],null,null),o.rb(17,212992,null,0,bn,[o.k,o.R,o.G,o.s,o.j,hn,o.C,dn],{inputFormatter:[0,"inputFormatter"],ngbTypeahead:[1,"ngbTypeahead"],resultTemplate:[2,"resultTemplate"]},null),o.Fb(1024,null,kt.i,function(t,n){return[t,n]},[kt.c,bn]),o.rb(19,671744,null,0,kt.e,[[3,kt.b],[8,null],[8,null],[6,kt.i],[2,kt.s]],{name:[0,"name"]},null),o.Fb(2048,null,kt.j,null,[kt.e]),o.rb(21,16384,null,0,kt.k,[[4,kt.j]],null,null),(t()(),o.sb(22,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),o.sb(23,0,null,null,1,"label",[["for","phoneNumber"]],null,null,null,null,null)),(t()(),o.Ib(-1,null,["\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c*"])),(t()(),o.sb(25,0,null,null,5,"input",[["class","form-control"],["formControlName","phoneNumber"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==o.Cb(t,26)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==o.Cb(t,26).onTouched()&&l),"compositionstart"===n&&(l=!1!==o.Cb(t,26)._compositionStart()&&l),"compositionend"===n&&(l=!1!==o.Cb(t,26)._compositionEnd(e.target.value)&&l),l},null,null)),o.rb(26,16384,null,0,kt.c,[o.G,o.k,[2,kt.a]],null,null),o.Fb(1024,null,kt.i,function(t){return[t]},[kt.c]),o.rb(28,671744,null,0,kt.e,[[3,kt.b],[8,null],[8,null],[6,kt.i],[2,kt.s]],{name:[0,"name"]},null),o.Fb(2048,null,kt.j,null,[kt.e]),o.rb(30,16384,null,0,kt.k,[[4,kt.j]],null,null),(t()(),o.sb(31,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),o.sb(32,0,null,null,1,"button",[["class","btn btn-outline-dark"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.context.$implicit.close("Save click")&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Add "]))],function(t,n){var e=n.component;t(n,9,0,e.form),t(n,17,0,e.formatter,e.searchTerm,o.Cb(n.parent,0)),t(n,19,0,"search"),t(n,28,0,"phoneNumber")},function(t,n){t(n,7,0,o.Cb(n,11).ngClassUntouched,o.Cb(n,11).ngClassTouched,o.Cb(n,11).ngClassPristine,o.Cb(n,11).ngClassDirty,o.Cb(n,11).ngClassValid,o.Cb(n,11).ngClassInvalid,o.Cb(n,11).ngClassPending),t(n,15,1,[o.Cb(n,17).isPopupOpen(),o.Cb(n,17).autocomplete,o.Cb(n,17).showHint?"both":"list",o.Cb(n,17).activeDescendant,o.Cb(n,17).isPopupOpen()?o.Cb(n,17).popupId:null,o.Cb(n,17).isPopupOpen(),o.Cb(n,21).ngClassUntouched,o.Cb(n,21).ngClassTouched,o.Cb(n,21).ngClassPristine,o.Cb(n,21).ngClassDirty,o.Cb(n,21).ngClassValid,o.Cb(n,21).ngClassInvalid,o.Cb(n,21).ngClassPending]),t(n,25,0,o.Cb(n,30).ngClassUntouched,o.Cb(n,30).ngClassTouched,o.Cb(n,30).ngClassPristine,o.Cb(n,30).ngClassDirty,o.Cb(n,30).ngClassValid,o.Cb(n,30).ngClassInvalid,o.Cb(n,30).ngClassPending)})}function he(t){return o.Kb(2,[(t()(),o.jb(0,[["rt",2]],null,0,null,pe)),(t()(),o.jb(0,[["content",2]],null,0,null,de)),(t()(),o.sb(2,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.open(o.Cb(t,1))&&l),l},null,null)),(t()(),o.Ib(-1,null,[" Add Member\n"]))],null,null)}var fe=function(){return(fe=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},be=function(){function t(){this.remove=new o.m}return t.prototype.ngOnInit=function(){},t.prototype.removeMember=function(t){this.remove.emit(fe({},t))},t}(),me=o.qb({encapsulation:0,styles:[[".user[_ngcontent-%COMP%]{border-radius:50%;height:32px;width:32px;background-size:100%;background-repeat:no-repeat}"]],data:{}});function ve(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,8,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),o.sb(2,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),o.sb(3,0,null,null,0,"img",[["alt",""],["class","user"]],[[8,"src",4]],null,null,null,null)),(t()(),o.sb(4,0,null,null,4,"div",[["class","col-10"],["style","padding-left:0"]],null,null,null,null,null)),(t()(),o.sb(5,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),o.Ib(6,null,[" "," "])),(t()(),o.sb(7,0,null,null,1,"span",[["style","cursor: pointer"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.removeMember(t.context.$implicit)&&l),l},null,null)),(t()(),o.Ib(-1,null,["\xd7"]))],null,function(t,n){t(n,3,0,n.context.$implicit.picture),t(n,6,0,n.context.$implicit.name)})}function ge(t){return o.Kb(2,[(t()(),o.sb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),o.jb(16777216,null,null,2,null,ve)),o.rb(2,278528,null,0,Rt.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null),o.Db(131072,Rt.b,[o.h])],function(t,n){var e,l=n.component;t(n,2,0,null==(e=o.Jb(n,2,0,o.Cb(n,3).transform(l.community$)))?null:e.members)},null)}var ye=o.qb({encapsulation:0,styles:[[""]],data:{}});function we(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,20,"div",[["class","container"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,19,"div",[["class","card"]],null,null,null,null,null)),(t()(),o.sb(2,0,null,null,18,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),o.sb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Community"])),(t()(),o.sb(5,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),o.sb(6,0,null,null,3,"commu-form",[],null,[[null,"create"],[null,"file"],[null,"update"],[null,"remove"]],function(t,n,e){var l=!0,o=t.component;return"create"===n&&(l=!1!==o.onCreate(e)&&l),"file"===n&&(l=!1!==o.onFile(e)&&l),"update"===n&&(l=!1!==o.onUpdate(e)&&l),"remove"===n&&(l=!1!==o.onRemove(e)&&l),l},ee,Qn)),o.rb(7,114688,null,0,Yn,[kt.d],{commu:[0,"commu"],fileUrl:[1,"fileUrl"]},{create:"create",file:"file",update:"update",remove:"remove"}),o.Db(131072,Rt.b,[o.h]),o.Db(131072,Rt.b,[o.h]),(t()(),o.sb(10,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),o.sb(11,0,null,null,6,"div",[["class","row justify-content-between"]],null,null,null,null,null)),(t()(),o.sb(12,0,null,null,2,"div",[["class","col col-8"]],null,null,null,null,null)),(t()(),o.sb(13,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),o.Ib(-1,null,["Members"])),(t()(),o.sb(15,0,null,null,2,"div",[["class","col col-4"],["style","text-align: right"]],null,null,null,null,null)),(t()(),o.sb(16,0,null,null,1,"commu-add-member-modal",[],null,[[null,"search"],[null,"create"]],function(t,n,e){var l=!0,o=t.component;return"search"===n&&(l=!1!==o.onSearch(e)&&l),"create"===n&&(l=!1!==o.onAddMember(e)&&l),l},he,ae)),o.rb(17,114688,null,0,ce,[kt.d,un],{users$:[0,"users$"]},{create:"create",search:"search"}),(t()(),o.sb(18,0,null,null,1,"members-display",[],null,[[null,"remove"]],function(t,n,e){var l=!0;return"remove"===n&&(l=!1!==t.component.onRemoveMember(e)&&l),l},ge,me)),o.rb(19,114688,null,0,be,[],{community$:[0,"community$"]},{remove:"remove"}),(t()(),o.sb(20,0,null,null,0,"hr",[],null,null,null,null,null))],function(t,n){var e=n.component;t(n,7,0,o.Jb(n,7,0,o.Cb(n,8).transform(e.community$)),o.Jb(n,7,1,o.Cb(n,9).transform(e.fileUrl$))),t(n,17,0,e.users$),t(n,19,0,e.community$)},null)}function Ce(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"app-community-item",[],null,null,null,we,ye)),o.rb(1,114688,null,0,bt,[K.n],null,null)],function(t,n){t(n,1,0)},null)}var _e=o.ob("app-community-item",bt,Ce,{},{},[]),Oe=o.qb({encapsulation:0,styles:[[""]],data:{}});function je(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),o.sb(1,0,null,null,1,"div",[["class","card"]],null,null,null,null,null)),(t()(),o.sb(2,0,null,null,0,"div",[["class","card-body"]],null,null,null,null,null))],null,null)}function Re(t){return o.Kb(0,[(t()(),o.sb(0,0,null,null,1,"app-members",[],null,null,null,je,Oe)),o.rb(1,114688,null,0,vt,[K.n],null,null)],function(t,n){t(n,1,0)},null)}var ke=o.ob("app-members",vt,Re,{},{},[]),Ie=e("t/Na"),Se=e("AytR"),xe=e("XlPw"),Fe=function(){function t(t){this.http=t,this.ENDPOINT=Se.a.community_endpoint,this.UPLOAD_ENDPOINT=Se.a.upload_endpoint}return t.prototype.addMember=function(t,n){var e=new Ie.g({authorization:"Bearer "+this.getCookie(),"Content-Type":"application/json"});return this.http.post(this.ENDPOINT+"/"+t+"/members",{userId:n},{headers:e}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.getGroups=function(){var t=new Ie.g({"Content-Type":"application/json"});return this.http.get(""+this.ENDPOINT,{headers:t}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.createCommu=function(t){var n=new Ie.g({authorization:"Bearer "+this.getCookie(),"Content-Type":"application/json"});return this.http.post(""+this.ENDPOINT,t,{headers:n}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.updateCommu=function(t){var n=new Ie.g({authorization:"Bearer "+this.getCookie(),"Content-Type":"application/json"});return this.http.put(this.ENDPOINT+"/"+t._id,t,{headers:n}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.uploadCoverCommu=function(t){var n=new FormData;n.append("cover",t);var e=new Ie.g({authorization:"Bearer "+this.getCookie()});return this.http.post(this.UPLOAD_ENDPOINT+"/community/cover",n,{headers:e}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.removeCommu=function(t){var n=new Ie.g({authorization:"Bearer "+this.getCookie(),"Content-Type":"application/json"});return this.http.delete(this.ENDPOINT+"/"+t._id,{headers:n}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.removeMember=function(t,n){var e=new Ie.g({authorization:"Bearer "+this.getCookie(),"Content-Type":"application/json"});return this.http.put(this.ENDPOINT+"/"+t+"/members",{userId:n},{headers:e}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.prototype.getCookie=function(t){void 0===t&&(t="ctr_user");var n=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return n?n[2]:null},t.ngInjectableDef=o.V({factory:function(){return new t(o.Z(Ie.c))},token:t,providedIn:wt}),t}(),Ae=function(){function t(t){this.http=t}return t.prototype.findUser=function(t){var n=new Ie.g({"Content-Type":"application/json"}),e=new Ie.h({fromObject:{q:t}});return this.http.get(Se.a.auth_endpoint+"/search",{headers:n,params:e}).pipe(Object(M.a)(function(t){return Object(xe.a)(t.json())}))},t.ngInjectableDef=o.V({factory:function(){return new t(o.Z(Ie.c))},token:t,providedIn:wt}),t}(),Ee=function(){function t(t){this.http=t}return t.prototype.addPhoneNumber=function(t,n){var e=new Ie.g({authorization:"Bearer "+this.getCookie("token"),"Content-Type":"application/json"});return this.http.patch(Se.a.auth_endpoint+"/line/phone",{id:t,phoneNumber:n},{headers:e})},t.prototype.getCookie=function(t){void 0===t&&(t="ctr_user");var n=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return n?n[2]:null},t.ngInjectableDef=o.V({factory:function(){return new t(o.Z(Ie.c))},token:t,providedIn:wt}),t}(),Pe=function(){return function(){}}();e.d(n,"CommunitiesModuleNgFactory",function(){return De});var De=o.pb(Ot,[],function(t){return o.zb([o.Ab(512,o.j,o.eb,[[8,[jt.a,On,En,Gn,Wn,_e,ke]],[3,o.j],o.A]),o.Ab(4608,Rt.m,Rt.l,[o.w,[2,Rt.y]]),o.Ab(4608,kt.d,kt.d,[]),o.Ab(4608,kt.r,kt.r,[]),o.Ab(4608,un,un,[o.j,o.s,on,zt]),o.Ab(1073742336,Rt.c,Rt.c,[]),o.Ab(1073742336,Vn.r,Vn.r,[[2,Vn.y],[2,Vn.o]]),o.Ab(1024,K.F,function(){return[{}]},[]),o.Ab(1024,K.j,function(){return[{key:"communities",reducerFactory:K.z,metaReducers:[],initialState:void 0}]},[]),o.Ab(1024,K.G,K.H,[o.s,K.F,K.j]),o.Ab(1024,K.q,function(){return[{groups:z,search:Y,upload:tt}]},[]),o.Ab(1024,K.r,function(t){return[t]},[K.q]),o.Ab(1024,K.b,function(t,n,e){return[K.w(t,n,e)]},[o.s,K.q,K.r]),o.Ab(1073873408,K.o,K.o,[K.G,K.b,K.g,K.p]),o.Ab(512,N,N,[D.a,Fe]),o.Ab(512,V,V,[D.a,Ae]),o.Ab(512,L,L,[D.a,Fe]),o.Ab(512,B,B,[D.a,Ee]),o.Ab(1024,D.i,function(t,n,e,l){return[D.e(t,n,e,l)]},[N,V,L,B]),o.Ab(1073742336,D.g,D.g,[D.f,D.i,[2,K.p],[2,K.o]]),o.Ab(1073742336,wt,wt,[]),o.Ab(1073742336,kt.p,kt.p,[]),o.Ab(1073742336,kt.n,kt.n,[]),o.Ab(1073742336,mn,mn,[]),o.Ab(1073742336,rn,rn,[]),o.Ab(1073742336,Pe,Pe,[]),o.Ab(1073742336,Ot,Ot,[]),o.Ab(1024,Vn.m,function(){return[[{path:"",component:ht,canActivate:[_t]},{path:"new",component:bt},{path:":commuId",component:bt,canActivate:[Ct]},{path:":commuId/members",component:vt,canActivate:[_t,Ct]},{path:"**",redirectTo:"",pathMatch:"full"}]]},[])])})}}]);